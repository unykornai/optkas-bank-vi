# ============================================================
# ORGANIZATIONAL POLICY — Deal Execution Controls
# ============================================================
# This file governs what the engine is ALLOWED to do.
# It separates analysis logic from enforcement authority.
#
# Tier 2 — Conditional Execution Mode:
#   The engine blocks generation when conditions are unmet.
#   Humans approve everything. Engine enforces preconditions.
#
# To change enforcement behavior, modify severity values:
#   "block"   — Prevents generation entirely
#   "warn"    — Flags in output, generation proceeds
#   "silent"  — Logged only, no user-facing impact
# ============================================================

policy_version: "1.0.0"
execution_tier: 2  # 1=Advisory, 2=Conditional Execution, 3=Autonomous
last_reviewed: "2026-02-12"
approved_by: "System Default"

# --- Generation Controls ---
generation_controls:
  no_license_blocks_generation: true
  no_signatory_blocks_generation: true
  expired_license_blocks_generation: true
  missing_registration_blocks_generation: true

# --- Cross-Border Controls ---
cross_border_controls:
  cross_border_requires_escrow: true
  escrow_missing_severity: "block"           # block | warn | silent
  currency_control_severity: "warn"          # block | warn | silent
  local_counsel_requirement_severity: "warn" # block | warn | silent

# --- Securities Controls ---
securities_controls:
  securities_requires_accredited_investor: true
  reg_d_language_required: true
  transfer_restrictions_required: true

# --- Signatory Controls ---
signatory_controls:
  single_signatory_severity: "warn"         # block | warn | silent
  missing_authorization_doc_severity: "warn"
  dual_signature_threshold_usd: 1000000

# --- Evidence Controls ---
evidence_controls:
  missing_evidence_severity: "warn"          # block | warn | silent
  missing_license_evidence_severity: "warn"
  cross_border_evidence_severity: "warn"
  sanctions_screening_required: true

# --- Opinion Controls ---
opinion_controls:
  adverse_grade_blocks_signature: true
  unable_to_opine_blocks_signature: true
  qualified_grade_requires_conditions: true

# --- Red Flag Controls ---
red_flag_controls:
  critical_red_flag_severity: "block"        # block | warn | silent
  high_red_flag_severity: "warn"
  pep_exposure_severity: "warn"
  sanctions_gap_severity: "block"

# --- Audit Controls ---
audit_controls:
  audit_every_run: true
  include_entity_hashes: true
  include_evidence_hashes: true
  include_git_commit: true
  retention_days: 2555  # ~7 years

# --- Liability Controls ---
liability_controls:
  append_disclaimer_to_documents: true
  disclaimer_text: >
    AUTOMATED COMPLIANCE NOTICE: This document was generated by an automated
    compliance and contract assembly system. It does not constitute legal advice
    and has not been reviewed by licensed counsel. Final enforceability,
    regulatory compliance, and fitness for purpose require independent legal
    review by qualified attorneys in each relevant jurisdiction. No party
    should rely on this document as a substitute for professional legal counsel.
  require_human_approval_stamp: true
